<app-user-navbar></app-user-navbar>
<div class="page-container">
  <div class="row white"></div>
  <div class="container col-md-7">
      
    <div class="row  my-form rounded">
        <div class="col" *ngIf="!confirmedAccount">
          <div style="text-align:center;color:#9A2828;" >
            <h3 class="title"><br>Réinitialisation de mot de passe</h3>
          </div>
              <section>
                <form novalidate [formGroup]="resetForm" (ngSubmit)="onReset()">
                  
                  <div class="form-group md-form form-md">
                    <i class="fa fa-lock prefix"></i>
                    <input type="password"
                          class="form-control"
                          formControlName="password"placeholder="Mot de Passe">
                  </div>  
                  <div class="form-group md-form form-md" *ngIf="true">
                    <i class="fa fa-lock prefix"></i>
                    <input type="password"
                          class="form-control"
                          formControlName="passwordConfirm"placeholder="Confirmation de Mot de Passe">
                          <div id="password-test">
                          <small *ngIf="resetForm.controls.passwordConfirm.dirty && resetForm.controls.passwordConfirm.value!=resetForm.controls.password.value" class="text-danger">
                            <i class="fa fa-exclamation-circle"> </i> Les 2 mots de passe doivent être égaux </small>
                          </div>
                  </div>            
                  <div class= "text-center mt-4 mb-2">
                    <button type="submit" class="btn btn-elegant"  [disabled]="!checkValidPassword(resetForm.controls.passwordConfirm.value,resetForm.controls.password.value)" >Confirmer  <i class="fa fa-send ml-3"></i> </button>
                    <button type="button" class="btn btn-deep-orange" (click)="redirectHome()">Annuler <i class="fa fa-times-circle ml-3"></i> </button>
                  </div>
                </form>
              </section>
           
        </div>
        <div class="col" *ngIf="confirmedAccount">
            <section class="messages">
                <div class="alert alert-success  confirm-success" role="alert">
                      <strong class="h5"><br>Félicitations , Votre mot de passe a été modifié<br></strong>
                      <div><br><button type="button" class="btn btn-outline-elegant" (click)="onLogin()">se Connecter</button></div>
                </div>
            </section>

        </div>
      
    </div>
  </div>
  </div>
  
  